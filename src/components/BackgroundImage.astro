---
import { BackgroundPicture } from "astro-imagetools/components";
---

<BackgroundPicture
  src="/src/images/background.jpg"
  breakpoints={{ count: 8, minWidth: 320, maxWidth: 3840 }}
  sizes={(breakpoints) => {
    const maxWidth = breakpoints[breakpoints.length - 1];
    return `(min-width: ${maxWidth}px) ${maxWidth}px, 100vw`;
  }}
  attributes={{
    link: {
      fetchpriority: "high",
    },
  }}
  artDirectives={[
    {
      src: "/src/images/background_portrait.jpg",
      media: "(max-aspect-ratio: 2/3)",
      breakpoints: { count: 6, minWidth: 300, maxWidth: 1400 },
    },
  ]}
>
  <slot />
</BackgroundPicture>
